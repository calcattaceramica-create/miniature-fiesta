# ๐พ ูุธุงุฆู ุงูุญูุธ ูุงูุฅุฒุงูุฉ ูู ุงูููุงุชูุฑ

## โ ุงูุญุงูุฉ: **ุฌููุน ุงููุธุงุฆู ุชุนูู ุจุดูู ุตุญูุญ**

---

## ๐ฏ ุงููุธุงุฆู ุงูููุนูุฉ

### 1๏ธโฃ **ุฒุฑ ุญูุธ ุงููุงุชูุฑุฉ (Save Invoice)**

#### ูู ููุงุชูุฑ ุงููุจูุนุงุช (`/sales/invoices/add`):
- โ **ุงูุฒุฑ ููุฌูุฏ ููุนูู**
- โ **ูุญูุธ ุงููุงุชูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**
- โ **ูุญูุธ ุฌููุน ุงูุฃุตูุงู ุงููุถุงูุฉ**
- โ **ูุญุณุจ ุงูุฅุฌูุงููุงุช ุชููุงุฆูุงู**
- โ **ูุนุฑุถ ุฑุณุงูุฉ ูุฌุงุญ ุจุนุฏ ุงูุญูุธ**

<augment_code_snippet path="app/templates/sales/add_invoice.html" mode="EXCERPT">
````html
<button type="submit" class="btn btn-primary">
    <i class="fas fa-save"></i> {{ _('Save Invoice') }}
</button>
````
</augment_code_snippet>

#### ูู ุนุฑูุถ ุงูุฃุณุนุงุฑ (`/sales/quotations/add`):
- โ **ุงูุฒุฑ ููุฌูุฏ ููุนูู**
- โ **ูุญูุธ ุนุฑุถ ุงูุณุนุฑ**

#### ูู ููุงุชูุฑ ุงููุดุชุฑูุงุช (`/purchases/invoices/add`):
- โ **ุงูุฒุฑ ููุฌูุฏ ููุนูู**
- โ **ูุญูุธ ูุงุชูุฑุฉ ุงููุดุชุฑูุงุช**

---

### 2๏ธโฃ **ุฒุฑ ุฅุฒุงูุฉ ุงูุตูู (Remove Item)**

#### ูู ุฌููุน ุงูููุงุชูุฑ:
- โ **ุฒุฑ ุญุฐู ููู ุตูู**
- โ **ูุญุฐู ุงูุตูู ูู ุงูุฌุฏูู**
- โ **ูุนูุฏ ุญุณุงุจ ุงูุฅุฌูุงููุงุช ุชููุงุฆูุงู**
- โ **ูุง ูุณูุญ ุจุญุฐู ุขุฎุฑ ุตูู (ูุฌุจ ูุฌูุฏ ุตูู ูุงุญุฏ ุนูู ุงูุฃูู)**

<augment_code_snippet path="app/templates/sales/add_invoice.html" mode="EXCERPT">
````javascript
function removeItem(index) {
    document.getElementById(`item-${index}`).remove();
    calculateTotals();
}
````
</augment_code_snippet>

---

## ๐ง ููู ูุนูู ุงููุธุงูุ

### **1. ุฅุถุงูุฉ ุตูู ุฌุฏูุฏ:**
```javascript
function addItem() {
    // ููุดุฆ ุตู ุฌุฏูุฏ ูู ุงูุฌุฏูู
    // ูุถูู ูุงุฆูุฉ ููุณุฏูุฉ ููููุชุฌุงุช
    // ูุถูู ุญููู ุงููููุฉ ูุงูุณุนุฑ ูุงูุฎุตู
    // ูุถูู ุฒุฑ ุงูุญุฐู
}
```

### **2. ุญุณุงุจ ุงูุฅุฌูุงููุงุช:**
```javascript
function calculateItem(index) {
    // ูุญุณุจ ุงููุฌููุน ุงููุฑุนู
    // ูุญุณุจ ุงูุฎุตู
    // ูุญุณุจ ุงูุถุฑูุจุฉ
    // ูุญุณุจ ุงูุฅุฌูุงูู
    calculateTotals(); // ูุญุฏุซ ุงูุฅุฌูุงููุงุช ุงููููุฉ
}
```

### **3. ุญูุธ ุงููุงุชูุฑุฉ:**
```javascript
document.getElementById('invoiceForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // ูุฌูุน ุจูุงูุงุช ุฌููุน ุงูุฃุตูุงู
    const items = [];
    for (let i = 0; i < itemCounter; i++) {
        // ูุถูู ูู ุตูู ุฅูู ุงููุตูููุฉ
    }
    
    // ูุชุญูู ูู ูุฌูุฏ ุฃุตูุงู
    if (items.length === 0) {
        alert('{{ _("Please add at least one product") }}');
        return;
    }
    
    // ูุฑุณู ุงููููุฐุฌ
    this.submit();
});
```

### **4. ูุนุงูุฌุฉ ุงูุจูุงูุงุช ูู ุงูุฎุงุฏู:**
<augment_code_snippet path="app/sales/routes.py" mode="EXCERPT">
````python
@bp.route('/invoices/add', methods=['GET', 'POST'])
def add_invoice():
    if request.method == 'POST':
        # ููุดุฆ ุฑูู ูุงุชูุฑุฉ ุชููุงุฆู
        # ูุญูุธ ุจูุงูุงุช ุงููุงุชูุฑุฉ
        # ูุญูุธ ุงูุฃุตูุงู
        # ูุญุณุจ ุงูุฅุฌูุงููุงุช
        # ูุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
        
        flash(_('Invoice added successfully'), 'success')
        return redirect(url_for('sales.invoices'))
````
</augment_code_snippet>

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงุฆู

### **ุงุฎุชุจุงุฑ ุฒุฑ ุงูุญูุธ:**

1. **ุงูุชุญ ุตูุญุฉ ุฅุถุงูุฉ ูุงุชูุฑุฉ:**
   ```
   http://127.0.0.1:5000/sales/invoices/add
   ```

2. **ุงููุฃ ุงูุจูุงูุงุช:**
   - ุงุฎุชุฑ ุชุงุฑูุฎ ุงููุงุชูุฑุฉ
   - ุงุฎุชุฑ ุงูุนููู
   - ุงุฎุชุฑ ุงููุณุชูุฏุน

3. **ุฃุถู ููุชุฌ:**
   - ุงุถุบุท "ุฅุถุงูุฉ ููุชุฌ"
   - ุงุฎุชุฑ ููุชุฌ ูู ุงููุงุฆูุฉ
   - ุฃุฏุฎู ุงููููุฉ
   - ุงูุณุนุฑ ุณูุธูุฑ ุชููุงุฆูุงู

4. **ุงุญูุธ ุงููุงุชูุฑุฉ:**
   - ุงุถุบุท ุฒุฑ "ุญูุธ ุงููุงุชูุฑุฉ"
   - โ ูุฌุจ ุฃู ุชุธูุฑ ุฑุณุงูุฉ ูุฌุงุญ
   - โ ูุฌุจ ุฃู ุชูุชูู ุฅูู ูุงุฆูุฉ ุงูููุงุชูุฑ

---

### **ุงุฎุชุจุงุฑ ุฒุฑ ุงูุฅุฒุงูุฉ:**

1. **ุฃุถู ุนุฏุฉ ููุชุฌุงุช:**
   - ุงุถุบุท "ุฅุถุงูุฉ ููุชุฌ" 3 ูุฑุงุช
   - ุงููุฃ ุจูุงูุงุช ูู ููุชุฌ

2. **ุงุญุฐู ููุชุฌ:**
   - ุงุถุบุท ุฒุฑ ๐๏ธ ุจุฌุงูุจ ุฃู ููุชุฌ
   - โ ูุฌุจ ุฃู ูุฎุชูู ุงูุตูู
   - โ ูุฌุจ ุฃู ุชุชุญุฏุซ ุงูุฅุฌูุงููุงุช ุชููุงุฆูุงู

3. **ุญุงูู ุญุฐู ุขุฎุฑ ููุชุฌ:**
   - ุฅุฐุง ูุงู ููุงู ููุชุฌ ูุงุญุฏ ููุท
   - ุงุถุบุท ุฒุฑ ุงูุญุฐู
   - โ ูุฌุจ ุฃู ุชุธูุฑ ุฑุณุงูุฉ ุชูุจูู (ูู ููุงุชูุฑ ุงููุดุชุฑูุงุช)

---

## ๐ ุงููููุงุช ุงููุนููุฉ

| ุงูููู | ุงููุธููุฉ |
|-------|---------|
| `app/sales/routes.py` | ูุนุงูุฌุฉ ุญูุธ ููุงุชูุฑ ุงููุจูุนุงุช |
| `app/sales/routes.py` | ูุนุงูุฌุฉ ุญูุธ ุนุฑูุถ ุงูุฃุณุนุงุฑ |
| `app/purchases/routes.py` | ูุนุงูุฌุฉ ุญูุธ ููุงุชูุฑ ุงููุดุชุฑูุงุช |
| `app/templates/sales/add_invoice.html` | ูุงุฌูุฉ ูุงุชูุฑุฉ ุงููุจูุนุงุช |
| `app/templates/sales/add_quotation.html` | ูุงุฌูุฉ ุนุฑุถ ุงูุณุนุฑ |
| `app/templates/purchases/add_invoice.html` | ูุงุฌูุฉ ูุงุชูุฑุฉ ุงููุดุชุฑูุงุช |

---

## โ ุงูุชุญุณููุงุช ุงููุทุจูุฉ

### **1. ุงุณุชุฎุฏุงู ูุธุงู ุงูุชุฑุฌูุฉ:**
```javascript
// ูุจู:
alert('ูุฑุฌู ุฅุถุงูุฉ ููุชุฌ ูุงุญุฏ ุนูู ุงูุฃูู');

// ุจุนุฏ:
alert('{{ _("Please add at least one product") }}');
```

### **2. ุฑููุฒ ุงูุนููุฉ ุงูุฏููุงููููุฉ:**
```javascript
const currencySymbol = '{{ currency_symbol }}';
totalDisplay.textContent = total.toFixed(2) + ' ' + currencySymbol;
```

---

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

- โ **ุฒุฑ ุงูุญูุธ ูุนูู ุจุดูู ุตุญูุญ**
- โ **ุฒุฑ ุงูุฅุฒุงูุฉ ูุนูู ุจุดูู ุตุญูุญ**
- โ **ุงูุญุณุงุจุงุช ุชุชู ุชููุงุฆูุงู**
- โ **ุฑุณุงุฆู ุงูุฎุทุฃ ุชุณุชุฎุฏู ูุธุงู ุงูุชุฑุฌูุฉ**
- โ **ุงูุนููุฉ ุชุธูุฑ ุฏููุงููููุงู**
- โ **ุฌููุน ุงูููุงุชูุฑ ุชุนูู ุจููุณ ุงูุทุฑููุฉ**

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 2026-01-14  
**ุงูุญุงูุฉ:** โ **ุฌููุน ุงููุธุงุฆู ุชุนูู ุจุดูู ุตุญูุญ**

