# ูุธุงู ุฅุฏุงุฑุฉ ุงูุชุฑุงุฎูุต - License Management System

## ูุธุฑุฉ ุนุงูุฉ - Overview

ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุชุฑุงุฎูุต ุงูุจุฑูุงูุฌ ูุน ุงูุชุญูู ุงูุชููุงุฆู ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู.

A complete system for managing software licenses with automatic verification during login.

---

## โ ุงูุญุงูุฉ ุงูุญุงููุฉ - Current Status

**ุชู ุชูุนูู ูุธุงู ุงูุชุฑุฎูุต ุจูุฌุงุญ! โ**

- โ ุชู ุฅูุดุงุก ุชุฑุฎูุต ุชุฌุฑูุจู ูุดุท
- โ ูุฏุฉ ุงูุชุฑุฎูุต: 365 ููู (ุณูุฉ ูุงุญุฏุฉ)
- โ ุงูุญุฏ ุงูุฃูุตู ูููุณุชุฎุฏููู: 10
- โ ุงูุญุฏ ุงูุฃูุตู ูููุฑูุน: 5
- โ ุชู ุชูุนูู middleware ุงูุชุฑุฎูุต

### ๐ ูุนูููุงุช ุงูุชุฑุฎูุต ุงูุญุงูู - Current License Info

```
License Key: CEC9-79EE-C42F-2DAD
Client: DED ERP System
Type: TRIAL
Created: 2026-01-16
Expires: 2027-01-16
Days Remaining: 364 days
Max Users: 10
Max Branches: 5
```

---

## ุงูููููุงุช ุงูุฑุฆูุณูุฉ - Main Components

### 1. ููุญุฉ ุงูุชุญูู - Control Panel (`DED_Control_Panel.pyw`)

ููุญุฉ ุชุญูู ุฑุณูููุฉ ูุฅุฏุงุฑุฉ ุงูุชุฑุงุฎูุต:

- โจ **ุฅูุดุงุก ุชุฑุงุฎูุต ุฌุฏูุฏุฉ** - Generate new licenses
- ๐ **ุชุนุฏูู ุงูุชุฑุงุฎูุต ุงูููุฌูุฏุฉ** - Edit existing licenses
- ๐ **ุชุบููุฑ ุญุงูุฉ ุงูุชุฑุฎูุต** (ูุดุท/ููููู/ููุชูู) - Change license status
- ๐ **ูุฒุงููุฉ ุงูุชุฑุงุฎูุต ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช** - Sync licenses to database
- ๐ **ุนุฑุถ ูุนูููุงุช ููุตูุฉ** - View detailed information

#### ุงุณุชุฎุฏุงู ููุญุฉ ุงูุชุญูู - Using Control Panel

```bash
python DED_Control_Panel.pyw
```

**ุงูููุฒุงุช:**
- ุฅูุดุงุก ุชุฑุฎูุต ุฌุฏูุฏ ุจูุนูููุงุช ุงูุดุฑูุฉ
- ุชุญุฏูุฏ ุชุงุฑูุฎ ุงูุชูุงุก ุงูุชุฑุฎูุต
- ุฅูุดุงุก ุงุณู ูุณุชุฎุฏู ููููุฉ ูุฑูุฑ ุชููุงุฆูุงู
- ูุฒุงููุฉ ุงูุชุฑุงุฎูุต ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุถุบุทุฉ ุฒุฑ

---

### 2. ููู ุงูุชุฑุงุฎูุต - License File (`licenses.json`)

ูุญุชูู ุนูู ุฌููุน ุงูุชุฑุงุฎูุต ุจุงูุชูุณูู ุงูุชุงูู:

```json
{
  "LICENSE-KEY-HERE": {
    "company": "ุงุณู ุงูุดุฑูุฉ",
    "username": "company_user",
    "password": "generated_password",
    "contact_email": "email@company.com",
    "contact_phone": "+966xxxxxxxxx",
    "created": "2024-01-01",
    "expiry": "2025-01-01",
    "status": "active",
    "license_type": "Standard",
    "max_users": 10,
    "features": ["all"],
    "machine_id": "MACHINE-ID",
    "activation_count": 1
  }
}
```

**ุญุงูุงุช ุงูุชุฑุฎูุต - License Status:**
- `active` - ูุดุท ููุนูู
- `suspended` - ููููู ูุคูุชุงู
- `expired` - ููุชูู ุงูุตูุงุญูุฉ
- `inactive` - ุบูุฑ ูุดุท

---

### 3. ูุธุงู ุงูุชุญูู - Verification System

#### ูู ุชุณุฌูู ุงูุฏุฎูู - Login Verification (`app/auth/routes.py`)

ูุชู ุงูุชุญูู ูู:
1. โ ูุฌูุฏ ุชุฑุฎูุต ูููุณุชุฎุฏู
2. โ ุญุงูุฉ ุงูุชุฑุฎูุต (ูุดุท/ููููู)
3. โ ุชุงุฑูุฎ ุงูุชูุงุก ุงูุตูุงุญูุฉ

```python
def check_license(username):
    """Check if user has valid license"""
    # Returns: (is_valid, error_message)
```

**ุฑุณุงุฆู ุงูุฎุทุฃ:**
- "ููู ุงูุชุฑุงุฎูุต ุบูุฑ ููุฌูุฏ" - License file not found
- "ุงูุชุฑุฎูุต ููููู ูุคูุชุงู" - License suspended
- "ุงูุชุฑุฎูุต ุบูุฑ ูุดุท" - License inactive
- "ุงูุชุฑุฎูุต ููุชูู ุงูุตูุงุญูุฉ" - License expired
- "ูุง ููุฌุฏ ุชุฑุฎูุต ูุณุฌู" - No license found

---

### 4. ูุฒุงููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช - Database Sync (`sync_licenses.py`)

ุณูุฑูุจุช ููุฒุงููุฉ ุงูุชุฑุงุฎูุต ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช:

```bash
python sync_licenses.py
```

**ุงููุธุงุฆู:**
- โจ ุฅูุดุงุก ุญุณุงุจุงุช ูุณุชุฎุฏููู ุฌุฏูุฏุฉ ูู ุงูุชุฑุงุฎูุต
- ๐ ุชุญุฏูุซ ุญุณุงุจุงุช ุงููุณุชุฎุฏููู ุงูููุฌูุฏุฉ
- ๐ ุนุฑุถ ุชูุฑูุฑ ุจุงูุนูููุงุช ุงููููุฐุฉ

**ุงูุฅุฎุฑุงุฌ:**
```
๐ Starting license synchronization...

โจ Created user: company_user (Company Name)
โ Updated user: another_user (Another Company)

============================================================
โ Sync completed!
   - New users created: 5
   - Existing users updated: 3
   - Total licenses: 8
============================================================
```

---

### 5. ุตูุญุฉ ูุนูููุงุช ุงูุชุฑุฎูุต - License Info Page

ุตูุญุฉ ูู ุงูุชุทุจูู ูุนุฑุถ ูุนูููุงุช ุชุฑุฎูุต ุงููุณุชุฎุฏู ุงูุญุงูู:

**ุงูุฑุงุจุท:** `/license-info`

**ุงููุนูููุงุช ุงููุนุฑูุถุฉ:**
- ๐ข ูุนูููุงุช ุงูุดุฑูุฉ
- ๐ ุชูุงุตูู ุงูุชุฑุฎูุต
- ๐ฅ ูุนูููุงุช ุงูุงุณุชุฎุฏุงู
- ๐ ููุชุงุญ ุงูุชุฑุฎูุต

---

## ุณูุฑ ุงูุนูู - Workflow

### ุฅุถุงูุฉ ุชุฑุฎูุต ุฌุฏูุฏ - Adding New License

1. **ูุชุญ ููุญุฉ ุงูุชุญูู**
   ```bash
   python DED_Control_Panel.pyw
   ```

2. **ุฅุฏุฎุงู ูุนูููุงุช ุงูุดุฑูุฉ**
   - ุงุณู ุงูุดุฑูุฉ
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ุฑูู ุงููุงุชู
   - ุชุงุฑูุฎ ุงูุงูุชูุงุก

3. **ุฅูุดุงุก ุงูุชุฑุฎูุต**
   - ุงูุถุบุท ุนูู "ุฅูุดุงุก ุชุฑุฎูุต"
   - ูุชู ุฅูุดุงุก ููุชุงุญ ุชุฑุฎูุต ูุฑูุฏ
   - ูุชู ุฅูุดุงุก ุงุณู ูุณุชุฎุฏู ููููุฉ ูุฑูุฑ

4. **ูุฒุงููุฉ ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช**
   - ุงูุถุบุท ุนูู "ูุฒุงููุฉ ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช"
   - ูุชู ุฅูุดุงุก ุญุณุงุจ ุงููุณุชุฎุฏู ุชููุงุฆูุงู

5. **ุชุณููู ุงููุนูููุงุช ููุนููู**
   - ุงุณู ุงููุณุชุฎุฏู
   - ูููุฉ ุงููุฑูุฑ
   - ุชุงุฑูุฎ ุงูุงูุชูุงุก

---

## ุงูุฃูุงู - Security

### ุชุณุฌูู ุงูุฃุญุฏุงุซ - Event Logging

ูุชู ุชุณุฌูู ุฌููุน ูุญุงููุงุช ุชุณุฌูู ุงูุฏุฎูู:
- โ ูุญุงููุงุช ูุงุฌุญุฉ
- โ ูุญุงููุงุช ูุงุดูุฉ (ุชุฑุฎูุต ุบูุฑ ุตุงูุญ)
- โ๏ธ ูุญุงููุงุช ุนูู ุญุณุงุจุงุช ูููููุฉ

### ุงูุญูุงูุฉ - Protection

- ๐ ุงูุชุญูู ูู ุงูุชุฑุฎูุต ูุจู ุงูุณูุงุญ ุจุงูุฏุฎูู
- ๐ ููุน ุงูุฏุฎูู ููุชุฑุงุฎูุต ุงูููุชููุฉ
- ๐ ููุน ุงูุฏุฎูู ููุชุฑุงุฎูุต ุงููููููุฉ
- ๐ ุชุณุฌูู ุฌููุน ุงููุญุงููุงุช

---

## ุงูุตูุงูุฉ - Maintenance

### ุชุฌุฏูุฏ ุชุฑุฎูุต - Renew License

1. ูุชุญ ููุญุฉ ุงูุชุญูู
2. ุงุฎุชูุงุฑ ุงูุชุฑุฎูุต ูู ุงููุงุฆูุฉ
3. ุชุนุฏูู ุชุงุฑูุฎ ุงูุงูุชูุงุก
4. ุญูุธ ุงูุชุบููุฑุงุช

### ุฅููุงู ุชุฑุฎูุต - Suspend License

1. ูุชุญ ููุญุฉ ุงูุชุญูู
2. ุงุฎุชูุงุฑ ุงูุชุฑุฎูุต
3. ุชุบููุฑ ุงูุญุงูุฉ ุฅูู "ููููู"
4. ุญูุธ ุงูุชุบููุฑุงุช

---

## ุงููููุงุช ุงููููุฉ - Important Files

```
DED/
โโโ DED_Control_Panel.pyw      # ููุญุฉ ุงูุชุญูู
โโโ licenses.json               # ููู ุงูุชุฑุงุฎูุต
โโโ license_sync.json           # ูุงุฆูุฉ ุงููุฒุงููุฉ
โโโ sync_licenses.py            # ุณูุฑูุจุช ุงููุฒุงููุฉ
โโโ app/
โ   โโโ auth/routes.py         # ุงูุชุญูู ูู ุงูุชุฑุฎูุต
โ   โโโ main/routes.py         # ุตูุญุฉ ูุนูููุงุช ุงูุชุฑุฎูุต
โ   โโโ templates/
โ       โโโ license_info.html  # ูุงูุจ ูุนูููุงุช ุงูุชุฑุฎูุต
```

---

## ุงูุฏุนู - Support

ูููุณุงุนุฏุฉ ุฃู ุงูุงุณุชูุณุงุฑุงุชุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุฏุนู ุงูููู.

For help or inquiries, please contact technical support.

