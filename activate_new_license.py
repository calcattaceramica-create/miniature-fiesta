"""
Activate a new lifetime license
"""
from app import create_app, db
from app.models_license import License
from datetime import datetime
import uuid

app = create_app()

with app.app_context():
    # Generate new license key
    license_key = '-'.join([uuid.uuid4().hex[:4].upper() for _ in range(4)])
    
    # Create new lifetime license
    new_license = License(
        license_key=license_key,
        license_hash=License.hash_license_key(license_key),
        client_name='Ø¹Ù…ÙŠÙ„ Ù…Ù…ÙŠØ²',
        client_company='Ø´Ø±ÙƒØ© Ø§Ù„Ù†Ø¬Ø§Ø­',
        client_email='success@company.com',
        client_phone='0555555555',
        license_type='LIFETIME',
        max_users=999,
        max_branches=999,
        is_active=True,
        is_suspended=False,
        activated_at=datetime.now(),
        expires_at=None,  # Lifetime license
        admin_username='admin',
        notes='ØªØ±Ø®ÙŠØµ Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø© - ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯'
    )
    
    db.session.add(new_license)
    db.session.commit()
    
    print("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
    print("â•‘              âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ ØªØ±Ø®ÙŠØµ Ø¬Ø¯ÙŠØ¯ Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø© Ø¨Ù†Ø¬Ø§Ø­!                       â•‘")
    print("â•‘           New Lifetime License Activated Successfully!                       â•‘")
    print("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print()
    print(f"ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: {datetime.now().strftime('%Y-%m-%d')}")
    print(f"â° Ø§Ù„ÙˆÙ‚Øª: {datetime.now().strftime('%H:%M:%S')}")
    print()
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print()
    print("ğŸ”‘ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ±Ø®ÙŠØµ:")
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print()
    print(f"â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print(f"â”‚ Ø§Ù„Ø¨ÙŠØ§Ù†                  â”‚ Ø§Ù„Ù‚ÙŠÙ…Ø©                                â”‚")
    print(f"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤")
    print(f"â”‚ ğŸ”‘ Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ±Ø®ÙŠØµ        â”‚ {license_key:<36} â”‚")
    print(f"â”‚ ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„               â”‚ {new_license.client_name:<36} â”‚")
    print(f"â”‚ ğŸ¢ Ø§Ù„Ø´Ø±ÙƒØ©               â”‚ {new_license.client_company:<36} â”‚")
    print(f"â”‚ ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ    â”‚ {new_license.client_email:<36} â”‚")
    print(f"â”‚ ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ               â”‚ {new_license.client_phone:<36} â”‚")
    print(f"â”‚ ğŸ“Š Ù†ÙˆØ¹ Ø§Ù„ØªØ±Ø®ÙŠØµ          â”‚ LIFETIME (Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø©)                â”‚")
    print(f"â”‚ ğŸ‘¥ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†â”‚ 999 (ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯)                      â”‚")
    print(f"â”‚ ğŸª Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„ÙØ±ÙˆØ¹   â”‚ 999 (ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯)                      â”‚")
    print(f"â”‚ ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙØ¹ÙŠÙ„        â”‚ {new_license.activated_at.strftime('%Y-%m-%d %H:%M:%S'):<36} â”‚")
    print(f"â”‚ â° ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡       â”‚ {'Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø© âˆ':<36} â”‚")
    print(f"â”‚ âœ… Ø§Ù„Ø­Ø§Ù„Ø©               â”‚ {'Ù†Ø´Ø·':<36} â”‚")
    print(f"â”‚ â¸ï¸ Ù…ÙˆÙ‚ÙˆÙ                â”‚ {'Ù„Ø§':<36} â”‚")
    print(f"â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print()
    print("ğŸ‰ Ø§Ù„Ù…ÙŠØ²Ø§Øª:")
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print()
    print("âœ… ØªØ±Ø®ÙŠØµ Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø© - Ù„Ø§ ÙŠÙ†ØªÙ‡ÙŠ Ø£Ø¨Ø¯Ø§Ù‹")
    print("âœ… Ø¹Ø¯Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯ (999)")
    print("âœ… Ø¹Ø¯Ø¯ ÙØ±ÙˆØ¹ ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯ (999)")
    print("âœ… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ù…ÙØ¹Ù„Ø©")
    print("âœ… Ø¯Ø¹Ù… ÙÙ†ÙŠ Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø©")
    print("âœ… ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ø¬Ø§Ù†ÙŠØ© Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø©")
    print()
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print()
    print("ğŸš€ ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:")
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print()
    print("1ï¸âƒ£ Ø§ÙØªØ­ Ø§Ù„Ù…ØªØµÙØ­ Ø¹Ù„Ù‰: http://localhost:5000/security/license")
    print("2ï¸âƒ£ Ø³ØªØ¬Ø¯ Ø§Ù„ØªØ±Ø®ÙŠØµ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ")
    print("3ï¸âƒ£ ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ø³Ø® Ø§Ù„Ù…ÙØªØ§Ø­ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø²Ø± 'Ù†Ø³Ø®'")
    print("4ï¸âƒ£ ÙŠÙ…ÙƒÙ†Ùƒ Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø²Ø± 'Ø§Ù„ØªÙØ§ØµÙŠÙ„'")
    print()
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print()
    
    # List all licenses
    all_licenses = License.query.all()
    print(f"ğŸ“‹ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…: {len(all_licenses)}")
    print()
    for i, lic in enumerate(all_licenses, 1):
        status = "âœ… Ù†Ø´Ø·" if lic.is_active and not lic.is_suspended else "â¸ï¸ Ù…ÙˆÙ‚ÙˆÙ" if lic.is_suspended else "âŒ ØºÙŠØ± Ù†Ø´Ø·"
        license_type = "â™¾ï¸ Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø©" if lic.license_type == 'LIFETIME' else lic.license_type
        print(f"   {i}. {lic.license_key} - {lic.client_name} - {license_type} - {status}")
    print()
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print()
    print("âœ… ØªÙ… Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ø¨Ù†Ø¬Ø§Ø­!")
    print()

